#Defensive armies can't transport of the planet
#Garrison armies are created by pops
#maintenance is directly scripted here. 0.25 translates to 0.25 monthly cost (excluding other upkeep modifiers)


c_precursor_mech_army = {
	damage = 8
	health = 5
	morale = 6
	time = 500
	maintenance = 2.0
	has_species = no
	icon_frame = 1
	defensive = yes
	
	cost = {
		minerals = 750
		energy = 250
	}
	
	prerequisites = { "tech_defense_army" }
	
	potential = {
		planet = {
			has_planet_modifier = "pm_Precursor_Mechs"
		}
	}

	
	allow = {
		custom_tooltip = {
			text = precursor_mech_army_trigger_tooltip
			planet = {
				has_planet_modifier = "pm_Precursor_Mechs"
			}
		}
	}
}

c_precursor_bunker_army = {
	damage = 4
	health = 10
	morale = 4
	time = 350
	maintenance = 1.0
	has_species = no
	icon_frame = 1
	defensive = yes
	
	cost = {
		minerals = 750
		energy = 250
	}
	
	prerequisites = { "tech_defense_army" }
	
	potential = {
		planet = {
			has_planet_modifier = "pm_Precursor_Bunker_Grid"
		}
	}
	
	allow = {
		custom_tooltip = {
			text = precursor_bunker_army_trigger_tooltip
			planet = {
				has_planet_modifier = "pm_Precursor_Bunker_Grid"
			}
		}
	}
}

c_giant_arachnid_army = {
	damage = 2.5
	health = 5
	morale = 3
	time = 90
	maintenance = 0.25
	has_species = no
	icon_frame = 8
	
	cost = {
		minerals = 100
		energy = 150
	}
	
	prerequisites = { "tech_assault_armies" }
	
	potential = {
		planet = {
			has_planet_modifier = "Arachnophobia"
		}
	}
	
	allow = {
		custom_tooltip = {
			text = giant_arachnid_army_trigger_tooltip
			planet = {
				has_planet_modifier = "Arachnophobia"
			}
			owner = {
				AND = {
					check_variable = {
						which = "c_giant_arachnid_count" 
						value < 5
					}
					NOT = {
						check_variable = {
							which = "c_giant_arachnid_count_queued" 
							value = 5
						}
					}
				}
			}
		}
	}
	on_queued = {
		owner = {
			change_variable = {
				which = "c_giant_arachnid_count" 
				value = 1
			}
			change_variable = {
				which = "c_giant_arachnid_count_queued" 
				value = 1
			}
		}
	}
	
	on_unqueued = {
		owner = {
			change_variable = {
				which = "c_giant_arachnid_count" 
				value = -1
			}
			change_variable = {
				which = "c_giant_arachnid_count_queued" 
				value = -1
			}
		}
	}
}